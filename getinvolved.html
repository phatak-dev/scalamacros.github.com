---
layout: default
title: Get involved
comments: true
plusone: true
---

<p>Start with cloning the git repository at <a href="https://github.com/scalamacros/kepler">https://github.com/scalamacros/kepler</a>.
Currently the development is being performed in the <code>topic/macros</code> branch that is checked out automatically,
so you don't need to do anything other than <code>git clone git://github.com/scalamacros/kepler.git</code> (read-only snapshot of the repository) or
<code>git clone git@github.com:scalamacros/kepler.git</code> (read-write snapshot, if you have the permissions).</p>

<h2>1. Prerequisites</h2>

<p>While the contents of the repo are being downloaded (it takes a while), it's time to review the prerequisites for the development environment.
To put it in a nutshell, you need to have:
1) <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk-6u29-download-513648.html">JDK 1.6</a> (currently, Scala cannot be built with 1.7),
2) <a href="http://eclipse.org/downloads/packages/eclipse-classic-362/heliossr2">Eclipse 3.6.2 "Helios"</a> (Scala plugin also supports Eclipse 3.7, but everyone in our team uses 3.6),
3) <a href="http://download.scala-ide.org/">a nightly build of ScalaIDE</a>.</p>

<p>Any popular operating system will do (for example, in our team we have people working on Windows, Linuxes and Macs),
however, screenshots in this tutorial will cover the setup from the perspective of a Windows user.
Most things are cross-platform, but there are a few that need to be treated differently across platforms.
Keep an eye on those!</p>

<p><a href="/media/images/getinvolved/prerequisites-step1.png"><img src="/media/images/getinvolved/prerequisites-step1.png" /></a></p>
<p><a href="/media/images/getinvolved/prerequisites-step2.png"><img src="/media/images/getinvolved/prerequisites-step2.png" /></a></p>

<p>To install ScalaIDE plugin for Eclipse, use "Help > Install New Software..." menu option.
After being presented with the dialog shown below, be sure to enter the nightly repository of ScalaIDE
(that is imperative, since we're working with nightly versions of Scala trunk).</p>

<p><a href="/media/images/getinvolved/prerequisites-step3.png"><img src="/media/images/getinvolved/prerequisites-step3.png" /></a></p>
<p><a href="/media/images/getinvolved/prerequisites-step4.png"><img src="/media/images/getinvolved/prerequisites-step4.png" /></a></p>
<p><a href="/media/images/getinvolved/prerequisites-step5.png"><img src="/media/images/getinvolved/prerequisites-step5.png" /></a></p>

<p>When being presented with the dialogs during the installation, click them through as shown in the screenshots below.
The "unsigned content" warning is normal - you can safely ignore it.</p>

<p><a href="/media/images/getinvolved/prerequisites-step6.png"><img src="/media/images/getinvolved/prerequisites-step6.png" /></a></p>
<p><a href="/media/images/getinvolved/prerequisites-step7.png"><img src="/media/images/getinvolved/prerequisites-step7.png" /></a></p>

<h2>2. Initial build of Kepler</h2>

<p>Before we're doing anything in the IDE, we're going to perform an initial build of Kepler.</p>

<p>The default way of building Scala involves Ant (currently, we're migrating our build system to SBT, but we're not there yet),
so you will need to grab the latest version of Ant from <a href="http://ant.apache.org/">http://ant.apache.org/</a>.
If you have troubles with compiling Kepler (for example, because of using an old version of Ant), it might help to download
<a href="http://mvnrepository.com/artifact/org.apache.ant/ant-nodeps">ant-nodeps</a> that contains additional tasks necessary for compiling Scala.</p>

<p>Drop to the command line, navigate to the root of the repository and invoke <code>ant</code>.
To improve the compilation time, you might wish to tweak <code>build.xml</code> or to set the <code>ANT_OPTS</code> environment variable
(my config is <code>-Xss128m -Xms2048m -Xmx2048m -XX:+UseParallelGC -XX:PermSize=256M -XX:MaxPermSize=512M</code>).</p>

<p>The initial compilation takes a while, and, depending on the configuration of your computer, it might take an awful lot of time
(high-end machines typically compile Scala in under 10 minutes, but most laptops are within 15-20 minutes timeframe).
Don't be scared, though - full rebuilds are extremely rare, and typical builds complete in under 10-30 seconds.</p>

<p>Q: "Build has failed due to an internal error". Omg, what do I do next?<br/>
A: Scroll the console output upwards. There will be an exception that will tell the reason of the error.</p>

<p>Q: The exception tells something about "C:\Program". Come on, guys, seriously!<br/>
A: Okay, here's the deal. Somewhere in the build script someone does not properly quote the paths with whitespaces.
As a result, on Windows you have to be extremely careful about the paths.
For us it worked only after we've changed <code>ANT_HOME</code>, <code>JAVA_HOME</code> and <code>SCALA_HOME</code> to short paths
(you can conveniently do that with an excellent tool named <a href="http://www.rapidee.com/">Rapid Environment Editor</a>).</p>

<p>Q: I'm getting errors that say something about Swing. How do I proceed?<br/>
A: This happens when you try to build Kepler with JDK 1.7. Java 7 is not supported for building Scala, please, switch to Java 6.</p>

<h2>3. Setting up the IDE</h2>

<p>After successfully compiling Kepler with <code>ant</code>, proceed with setting up a ScalaIDE project.
We recommend to start with a fresh workspace, since the old one might have some traces of JDK 1.7, which will certainly mess up the things in the future
(remember, building Scala with JDK 1.7 is not supported yet).</p>

<p>NB! When creating a new project, choose the "Java project" option. Despite of Kepler being written in Scala, it, essentially, represents a new version of a Scala compiler,
so regular idioms of building Scala projects do not apply to it.</p>

<p><a href="/media/images/getinvolved/create-scalac-project-step1.png"><img src="/media/images/getinvolved/create-scalac-project-step1.png" /></a></p>
<p><a href="/media/images/getinvolved/create-scalac-project-step2 (jdk 1.6!).png"><img src="/media/images/getinvolved/create-scalac-project-step2 (jdk 1.6!).png" /></a></p>

<p>The repository already contains a template of an Eclipse project (the <code>.project</code> and <code>.classpath</code> files in the root of the repo),
so after you've clicked "Next" in the window shown in the previous screenshot, everything should be set up automatically.
However, do verify that the aforementioned "everything" looks as follows:</p>

<p><a href="/media/images/getinvolved/create-scalac-project-step3.png"><img src="/media/images/getinvolved/create-scalac-project-step3.png" /></a></p>
<p><a href="/media/images/getinvolved/create-scalac-project-step4.png"><img src="/media/images/getinvolved/create-scalac-project-step4.png" /></a></p>
<p><a href="/media/images/getinvolved/create-scalac-project-step5.png"><img src="/media/images/getinvolved/create-scalac-project-step5.png" /></a></p>

<p>Here comes the most brittle part of the setup. Hit the "Build" action (either via package explorer's context menu or via main menu) and cross your fingers.
If everything is fine, then you're done with setting up the project, otherwise read the following Q&A section:</p>

<p>Q: After the compilation I've got exactly one error, something about <code>build.properties</code>.<br/>
A: If that's the only error, then you're fine. It can be safely ignored.</p>

<p>Q: You get parser errors from Scala on every non-ASCII symbol.<br/>
A: The <code>.project</code> file uses the platform encoding, which on the Mac is MacRoman.
Either change each project, if you have a reason to keep that default, or change the default to UTF-8.
Note that you must restart Eclipse in order to have the Scala compiler use that new encoding default.
<a href="https://www.assembla.com/spaces/scala-ide/wiki/Known_Issues#scala_errors_on_all_unicode_arrows">Learn more</a>.</p>

<p>Q: Omg, panic! The IDE gives a lot of errors: &lt;long list of weird stuff&gt;.<br/>
A: Try "Project > Clean...". If that does not work, try <code>ant all.clean</code> followed by <code>ant</code>.
If that does not work, let us know at <a href="mailto:dev@scalamacros.org">dev@scalamacros.org</a>.</p>

<h2>4. Working with the IDE</h2>

<p>To perform a test run you need to create a run configuration that will compile a test snippet with Kepler and display the result to the console.
Here's how that can be done (hint: if you're stuck at the second dialog, you need to double click that "Java Application" menu entry):</p>

<p><a href="/media/images/getinvolved/play-with-scalac-step1.png"><img src="/media/images/getinvolved/play-with-scalac-step1.png" /></a></p>
<p><a href="/media/images/getinvolved/play-with-scalac-step2.png"><img src="/media/images/getinvolved/play-with-scalac-step2.png" /></a></p>

<p>After creating an empty run configuration, proceed with configuring it as shown on the screenshots below:</p>

<p><a href="/media/images/getinvolved/play-with-scalac-step3.png"><img src="/media/images/getinvolved/play-with-scalac-step3.png" /></a></p>
<p><a href="/media/images/getinvolved/play-with-scalac-step4.png"><img src="/media/images/getinvolved/play-with-scalac-step4.png" /></a></p>

<p>The exact command line for this run configuration is as follows (NB! Be careful about the classpath separator - it is platform-dependent,
you need to use semicolons on Windows and colons on Linuxes and Macs):</p>

<pre><code>-cp
build/locker/classes/compiler;build/locker/classes/library;lib/fjbg.jar;lib/forkjoin.jar
-Xprint:cleanup
-d sandbox
test/kepler/Play.scala
</code></pre>

<p>Create the <code>sandbox</code> directory in the root of your repository, hit "Run" and cross your fingers again.
If everything is okay, you will see something like that (if it's not, proceed with the panic section of the Q&A from the IDE setup intructions):</p>

<p><a href="/media/images/getinvolved/play-with-scalac-step5.png"><img src="/media/images/getinvolved/play-with-scalac-step5.png" /></a></p>

<p>You can even debug the Kepler compiler. Just put a breakpoint (say, at <code>def run()</code> in <code>Global.scala</code>)
and then launch the debugging using the very same run configuration that you've used before:</p>

<p><a href="/media/images/getinvolved/play-with-scalac-step6.png"><img src="/media/images/getinvolved/play-with-scalac-step6.png" /></a></p>

<h2>5. Contributing to Kepler</h2>

<p>Now you're all set and can hack Kepler! To find out what can be useful for the project,
take a look at the <a href="/documentation.html">documentation</a> and
write to us at <a href="mailto:dev@scalamacros.org">dev@scalamacros.org</a>.</p>